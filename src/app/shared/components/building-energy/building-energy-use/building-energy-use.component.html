<div class="building-energy-emission margin-bottom">
	<div class="flex-container margin-bottom">
		<div class="flex-item space-between">
			<mat-label>
				{{ title }}
			</mat-label>
		</div>
		<div class="flex-item">
			<mat-label> {{ emissionValue }} {{ emissionUnit }} </mat-label>
		</div>
	</div>
	<div class="margin-bottom">
		<h5>{{ componentType }}</h5>
	</div>

	<div class="emmission-table">
		<table mat-table [dataSource]="dataSource">
			<ng-container *ngIf="isEnergyUse" matColumnDef="EnergyUse">
				<th mat-header-cell *matHeaderCellDef>
					Average Energy Use
				</th>
				<td mat-cell *matCellDef="let element">
					{{ element.EnergyUse }}
				</td>
				<td mat-footer-cell *matFooterCellDef>
					Emmission factor for District Heating
				</td>
			</ng-container>
			<ng-container *ngIf="isEnergyEmmission" matColumnDef="EnergyUse">
				<th mat-header-cell *matHeaderCellDef>
					Emissions tCO2
				</th>
				<td mat-cell *matCellDef="let element">
					{{ element.EnergyUse }}
				</td>
				<td mat-footer-cell *matFooterCellDef>
					Total Energy Emmissions tCO2
				</td>
			</ng-container>
			<ng-container matColumnDef="Total">
				<th mat-header-cell *matHeaderCellDef>
					kWh/m2
				</th>
				<td mat-cell *matCellDef="let element; let i = index">
					{{ getTotalTotal(i) }}
				</td>
				<td mat-footer-cell *matFooterCellDef>
					{{ getTotalAll() }}
				</td>
			</ng-container>
			<ng-container matColumnDef="Electricity">
				<th mat-header-cell *matHeaderCellDef>
					Electricity
				</th>
				<td mat-cell *matCellDef="let element">
					<input
						class="area-input"
						type="number"
						[(ngModel)]="element.Electricity"
						value="element.Electricity"
					/>
				</td>
				<td mat-footer-cell *matFooterCellDef>
					{{ getTotalElectricity() }}
				</td>
			</ng-container>

			<ng-container matColumnDef="Gas">
				<th mat-header-cell *matHeaderCellDef>
					Gas
				</th>
				<td mat-cell *matCellDef="let element">
					<input
						class="area-input"
						type="number"
						[(ngModel)]="element.Gas"
						value="element.Gas"
					/>
				</td>
				<td mat-footer-cell *matFooterCellDef>
					{{ getTotalGas() }}
				</td>
			</ng-container>

			<ng-container matColumnDef="Oil">
				<th mat-header-cell *matHeaderCellDef>
					Oil
				</th>
				<td mat-cell *matCellDef="let element">
					<input
						class="area-input"
						type="number"
						[(ngModel)]="element.Oil"
						value="element.Oil"
					/>
				</td>
				<td mat-footer-cell *matFooterCellDef>
					{{ getTotalOil() }}
				</td>
			</ng-container>
			<ng-container matColumnDef="Coal">
				<th mat-header-cell *matHeaderCellDef>
					Coal
				</th>
				<td mat-cell *matCellDef="let element">
					<input
						class="area-input"
						type="number"
						[(ngModel)]="element.Coal"
						value="element.Coal"
					/>
				</td>
				<td mat-footer-cell *matFooterCellDef>
					{{ getTotalCoal() }}
				</td>
			</ng-container>
			<ng-container matColumnDef="Peat">
				<th mat-header-cell *matHeaderCellDef>
					Peat
				</th>
				<td mat-cell *matCellDef="let element">
					<input
						class="area-input"
						type="number"
						[(ngModel)]="element.Peat"
						value="element.Peat"
					/>
				</td>
				<td mat-footer-cell *matFooterCellDef>
					{{ getTotalPeat() }}
				</td>
			</ng-container>
			<ng-container matColumnDef="Wood">
				<th mat-header-cell *matHeaderCellDef>
					Wood
				</th>
				<td mat-cell *matCellDef="let element">
					<input
						class="area-input"
						type="number"
						[(ngModel)]="element.Wood"
						value="element.Wood"
					/>
				</td>
				<td mat-footer-cell *matFooterCellDef>
					{{ getTotalWood() }}
				</td>
			</ng-container>
			<ng-container matColumnDef="Renewable">
				<th mat-header-cell *matHeaderCellDef>
					Renewable
				</th>
				<td mat-cell *matCellDef="let element">
					<input
						class="area-input"
						type="number"
						[(ngModel)]="element.Renewable"
						value="element.Renewable"
					/>
				</td>
				<td mat-footer-cell *matFooterCellDef>
					-
				</td>
			</ng-container>
			<ng-container matColumnDef="Heat">
				<th mat-header-cell *matHeaderCellDef>
					Heat
				</th>
				<td mat-cell *matCellDef="let element">
					<input
						class="area-input"
						type="number"
						[(ngModel)]="element.Heat"
						value="element.Heat"
					/>
				</td>
				<td mat-footer-cell *matFooterCellDef>
					{{ getTotalHeat() }}
				</td>
			</ng-container>

			<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			<tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
			<tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
		</table>
	</div>
</div>
